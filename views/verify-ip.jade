extends layout

block content
  body
    .container
      .jumbotron
        h1 Protect Intellectual Property
        h4 
          i Verify your creation stored in the Blockchain
              p
                div#filepart
                form#fileForm(action='/verify-ip', method='post') 
                  label Please select a file:
                    p
                    input.form-control(type="file", name="veriFile",  id="veriFile", enctype="multipart/form-data", placeholder='select a file')
                  label#dovf Digest of veri-file:
                    p
                    textarea.form-control(type="text", name="veri_hash", id="veri_hash", style='height:50px;width:500px;')
                    br
                    script(src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/ripemd160.js")
                    script(src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha256.js")
                    script.
                      document.getElementById("dovf").style.display="none";
                      function handleFileSelect(evt) {
                        var files = evt.target.files; // FileList object
                        var output = [];
                          
                          for (var i = 0, f; f = files[i]; i++) {
                            var reader = new FileReader();
                            reader.onload = (function(theFile) {
                              return function(e) {
                                var element = document.getElementById('veri_hash');
                                element.value = CryptoJS.RIPEMD160(e.target.result);
                                document.getElementById("dovf").style.display="block";
                              };
                            })(f);
                            reader.readAsDataURL(f);
                          }
                      }
                      document.getElementById('veriFile').addEventListener('change', handleFileSelect, false);
                  label  
                    p
                    button.btn.btn-primary(type="submit") Verify